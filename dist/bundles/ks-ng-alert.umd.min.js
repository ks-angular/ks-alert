!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Subject"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Subject","@angular/common"],e):e(t["ks-ng-alert"]={},t.ng.core,t.Rx,t.ng.common)}(this,function(t,e,n,o){"use strict";var s={NONE:0,SUCCESS:1,WARNING:2,DANGER:3,INFO:4};s[s.NONE]="NONE",s[s.SUCCESS]="SUCCESS",s[s.WARNING]="WARNING",s[s.DANGER]="DANGER",s[s.INFO]="INFO";var i={NONE:0,YES:1,OK:2,RETRY:3,NO:4,ABORT:5,CANCEL:6,IGNORE:7,CONFIRM:8,ALLOW:9,DENY:10};i[i.NONE]="NONE",i[i.YES]="YES",i[i.OK]="OK",i[i.RETRY]="RETRY",i[i.NO]="NO",i[i.ABORT]="ABORT",i[i.CANCEL]="CANCEL",i[i.IGNORE]="IGNORE",i[i.CONFIRM]="CONFIRM",i[i.ALLOW]="ALLOW",i[i.DENY]="DENY";var r=function(){return function(){}}(),c=function(){return function(){}}(),a=function(){return function(){}}(),l=function(){return function(){}}(),p=function(){function t(t){this.injector=t,this.IconType=s,this.cancelButton={isConfirm:!1,type:i.CANCEL},this.appear=!1,this.disappear=!1,this.elementRef=t.get(e.ElementRef),this.changeDetectorRef=t.get(e.ChangeDetectorRef),this.alertConfig=t.get("alertConfig",{}),this.disabled=!0,this.request={},this.options=Object.assign({},this.alertConfig.options),this._subscriptions=[],this._resSubject=new n.Subject,this.eventResponse=this._resSubject.asObservable()}return t.prototype.config=function(t){var e=this;clearTimeout(this._closeTimeOut),t&&(this.request=t,t.options?(this.options=Object.assign({},this.alertConfig.options,t.options),t.options.duration&&(this._closeTimeOut=setTimeout(function(){e.buttonClick(e.cancelButton)},t.options.duration))):this.options=Object.assign({},this.alertConfig.options),this.buttons=[],this.request.alertButtons&&this.request.alertButtons.forEach(function(t){if(i.hasOwnProperty(t.toString()))e.buttons.push(e.alertConfig.alertButtonsResource[+t]);else{if(!(t instanceof r))throw{message:"Alert Button isn't recognize. Make sure that alert button is instance of IconType or IAlertButton.",object:t};e.buttons.push(t)}}),this.appear=!0,this.disabled=!1,this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())},t.prototype.ngOnInit=function(){var t=this;this._subscriptions.push(this.eventResponse.subscribe(function(e){t.appear=!1,t.disappear=!0,t.disabled=!0,t._previousFocus&&t._previousFocus.focus(),t.changeDetectorRef.markForCheck(),t.changeDetectorRef.detectChanges()}))},t.prototype.ngAfterViewInit=function(){document.hasFocus()&&document.activeElement&&(this._previousFocus=document.activeElement);var t=this.elementRef.nativeElement.querySelector("button");t&&t.focus()},t.prototype.ngOnDestroy=function(){clearTimeout(this._closeTimeOut),this._subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.buttonClick=function(t){var e={request:this.request,responseButton:t,confirm:t.isConfirm};this.emitResponse(e)},t.prototype.keyUp=function(t){27===t.keyCode&&this.buttonClick(this.cancelButton)},t.prototype.overlayClick=function(){this.options.overlayClickToCancel&&this.buttonClick(this.cancelButton)},t.prototype.emitResponse=function(t){this._resSubject.next(t),this._resSubject.complete()},t}();p.decorators=[{type:e.Component,args:[{selector:"ks-alert",template:'<ng-container *ngIf="request && options">\n  <div class="backdrop"\n       *ngIf="options.overlay"\n       [ngClass]="{ appear: appear, disappear: disappear}"\n       (click)="overlayClick()"></div>\n  <div class="alert"\n       [ngClass]="{ appear: appear, disappear: disappear}">\n    <div class="button-close" *ngIf="options.showCloseButton" (click)="buttonClick(cancelButton)">x</div>\n    <div class="icon-container">\n      <svg *ngIf="request.iconType === IconType.DANGER" class="alert-icon"\n           xmlns="http://www.w3.org/2000/svg"\n           viewBox="0 0 512 512"><title>error</title>\n        <path\n          d="M256,30a226.06,226.06,0,0,1,88,434.25A226.06,226.06,0,0,1,168,47.75,224.5,224.5,0,0,1,256,30m0-30C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0Z"\n          style="fill:#ed1c24"/>\n        <line x1="131" y1="381" x2="381" y2="131"\n              style="fill:none;stroke:#ed1c24;stroke-linecap:round;stroke-miterlimit:10;stroke-width:40px"/>\n        <line x1="131" y1="131" x2="381" y2="381"\n              style="fill:none;stroke:#ed1c24;stroke-linecap:round;stroke-miterlimit:10;stroke-width:40px"/>\n      </svg>\n      <svg *ngIf="request.iconType === IconType.INFO" class="alert-icon"\n           xmlns="http://www.w3.org/2000/svg"\n           viewBox="0 0 512 512"><title>info</title>\n        <path\n          d="M256,30a226.06,226.06,0,0,1,88,434.25A226.06,226.06,0,0,1,168,47.75,224.5,224.5,0,0,1,256,30m0-30C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0Z"\n          style="fill:#0071bc"/>\n        <circle cx="256" cy="105" r="19"\n                style="fill:#0071bc;stroke:#0071bc;stroke-miterlimit:10;stroke-width:20px"/>\n        <line x1="256" y1="176" x2="256" y2="426"\n              style="fill:none;stroke:#0071bc;stroke-linecap:round;stroke-miterlimit:10;stroke-width:40px"/>\n      </svg>\n      <svg *ngIf="request.iconType === IconType.SUCCESS" class="alert-icon"\n           xmlns="http://www.w3.org/2000/svg"\n           viewBox="0 0 512 512"><title>success</title>\n        <path\n          d="M256,30a226.06,226.06,0,0,1,88,434.25A226.06,226.06,0,0,1,168,47.75,224.5,224.5,0,0,1,256,30m0-30C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0Z"\n          style="fill:#009245"/>\n        <polyline points="405 174 224 361 115 256"\n                  style="fill:none;stroke:#39b54a;stroke-linecap:round;stroke-linejoin:round;stroke-width:40px"/>\n      </svg>\n      <svg *ngIf="request.iconType === IconType.WARNING" class="alert-icon"\n           xmlns="http://www.w3.org/2000/svg"\n           viewBox="0 0 512 512"><title>warning</title>\n        <path\n          d="M256,30a226.06,226.06,0,0,1,88,434.25A226.06,226.06,0,0,1,168,47.75,224.5,224.5,0,0,1,256,30m0-30C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0Z"\n          style="fill:#fbb03b"/>\n        <circle cx="256" cy="407" r="19"\n                style="fill:#fbb03b;stroke:#fbb03b;stroke-miterlimit:10;stroke-width:20px"/>\n        <line x1="256" y1="86" x2="256" y2="336"\n              style="fill:none;stroke:#fbb03b;stroke-linecap:round;stroke-miterlimit:10;stroke-width:40px"/>\n      </svg>\n      <img *ngIf="request.iconType?.src" class="{{request.iconType?.classes}}" src="{{request.iconType?.src}}" alt="">\n    </div>\n    <div class="caption"> {{ request.caption }}</div>\n    <div class="description"> {{ request.text }}</div>\n    <ng-template [ngTemplateOutlet]="request.templateRef"\n                 [ngTemplateOutletContext]="{alert: this}"></ng-template>\n    <div class="buttons-container">\n      <button *ngFor="let button of buttons"\n              class="{{ button.classes }}"\n              (click)="buttonClick(button)">\n        {{ button.title }}\n      </button>\n    </div>\n  </div>\n</ng-container>\n',styles:[":host.disabled{pointer-events:none}"],changeDetection:e.ChangeDetectionStrategy.OnPush}]}],p.ctorParameters=function(){return[{type:e.Injector}]},p.propDecorators={disabled:[{type:e.HostBinding,args:["class.disabled"]}],keyUp:[{type:e.HostListener,args:["window:keyup",["$event"]]}]};var u=[{isConfirm:!1,classes:"d-none",type:i.NONE},{isConfirm:!0,classes:"btn btn-primary",title:"Yes",type:i.YES},{isConfirm:!0,classes:"btn btn-primary",title:"Ok",type:i.OK},{isConfirm:!0,classes:"btn btn-primary",title:"Retry",type:i.RETRY},{isConfirm:!1,classes:"btn btn-primary",title:"No",type:i.NO},{isConfirm:!1,classes:"btn btn-primary",title:"Abort",type:i.ABORT},{isConfirm:!1,classes:"btn btn-secondary",title:"Cancel",type:i.CANCEL},{isConfirm:!1,classes:"btn btn-secondary",title:"Ignore",type:i.IGNORE},{isConfirm:!0,classes:"btn btn-primary",title:"Confirm",type:i.CONFIRM},{isConfirm:!0,classes:"btn btn-primary",title:"Allow",type:i.ALLOW},{isConfirm:!1,classes:"btn btn-primary",title:"Deny",type:i.DENY}],f={overlay:!0,overlayClickToCancel:!0,showCloseButton:!0,duration:null},y={componentRef:p,options:f,alertButtonsResource:u,rootElement:document.body,timeoutBeforeDestroy:600},m=function(){function t(t,e,n,o){this.componentFactoryResolver=t,this.appRef=e,this.alertConfig=n,this.injector=o}return t.prototype.create=function(t){var e=this;t.componentRef!==undefined&&null!==t.componentRef||(t.componentRef=this.alertConfig.componentRef),t.timeoutBeforeDestroy!==undefined&&null!==t.timeoutBeforeDestroy||(t.timeoutBeforeDestroy=this.alertConfig.timeoutBeforeDestroy);var n=this._appendComponentToAppRoot(t.componentRef);return n.instance.config(t),n.instance.eventResponse.subscribe(function(o){return setTimeout(function(){return e._destroyComponent(n)},t.timeoutBeforeDestroy)}),n.instance.eventResponse},t.prototype._appendComponentToAppRoot=function(t){var e=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector);this.appRef.attachView(e.hostView);var n=e.hostView.rootNodes[0];return this.alertConfig.rootElement.appendChild(n),e},t.prototype._destroyComponent=function(t){this.appRef.detachView(t.hostView),t.destroy()},t}();m.decorators=[{type:e.Injectable}],m.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:l,decorators:[{type:e.Inject,args:["alertConfig"]}]},{type:e.Injector}]};var h=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[m,{provide:"alertConfig",useValue:Object.assign(y,e)}]}},t}();h.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[p],entryComponents:[p],exports:[p]}]}],h.ctorParameters=function(){return[]},t.IconType=s,t.AlertButtonType=i,t.IAlertButton=r,t.IAlertIcon=c,t.IAlertResponse=a,t.IAlertConfig=l,t.ALERT_BUTTONS=u,t.DEFAULT_OPTIONS=f,t.DEFAULT_CONFIG=y,t.AlertModule=h,t.AlertService=m,t.ɵa=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ks-ng-alert.umd.min.js.map
